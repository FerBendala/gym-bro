# ü§ù Gu√≠a de Contribuci√≥n - Follow Gym

## üéØ Bienvenido

¬°Gracias por tu inter√©s en contribuir a Follow Gym! Este documento te guiar√° a trav√©s del proceso de contribuci√≥n y te ayudar√° a entender c√≥mo puedes participar en el desarrollo del proyecto.

## üìã √çndice

- [C√≥digo de Conducta](#c√≥digo-de-conducta)
- [C√≥mo Contribuir](#c√≥mo-contribuir)
- [Configuraci√≥n del Entorno](#configuraci√≥n-del-entorno)
- [Flujo de Trabajo](#flujo-de-trabajo)
- [Est√°ndares de C√≥digo](#est√°ndares-de-c√≥digo)
- [Testing](#testing)
- [Documentaci√≥n](#documentaci√≥n)
- [Revisi√≥n de C√≥digo](#revisi√≥n-de-c√≥digo)
- [Reportar Bugs](#reportar-bugs)
- [Solicitar Features](#solicitar-features)

## üìú C√≥digo de Conducta

### Nuestros Est√°ndares

Como contribuidores y mantenedores de este proyecto, nos comprometemos a hacer de la participaci√≥n en nuestro proyecto una experiencia libre de acoso para todos, independientemente de:

- Edad
- Tama√±o corporal
- Discapacidad
- Etnia
- Caracter√≠sticas sexuales
- Identidad y expresi√≥n de g√©nero
- Nivel de experiencia
- Educaci√≥n
- Estatus socioecon√≥mico
- Nacionalidad
- Apariencia personal
- Raza
- Religi√≥n
- Identidad y orientaci√≥n sexual

### Nuestras Responsabilidades

Los mantenedores del proyecto son responsables de aclarar los est√°ndares de comportamiento aceptable y se espera que tomen medidas correctivas apropiadas y justas en respuesta a cualquier caso de comportamiento inaceptable.

### Aplicaci√≥n

Los casos de comportamiento abusivo, acosador o inaceptable pueden ser reportados contactando al equipo del proyecto. Todas las quejas ser√°n revisadas e investigadas y resultar√°n en una respuesta que se considere necesaria y apropiada a las circunstancias.

## üöÄ C√≥mo Contribuir

### Tipos de Contribuciones

Aceptamos varios tipos de contribuciones:

#### üêõ **Reportar Bugs**

- Usar el template de issue para bugs
- Incluir pasos para reproducir
- Proporcionar informaci√≥n del entorno
- Adjuntar logs si es relevante

#### üí° **Solicitar Features**

- Describir la funcionalidad deseada
- Explicar el caso de uso
- Proponer una implementaci√≥n si es posible
- Discutir alternativas consideradas

#### üìù **Mejorar Documentaci√≥n**

- Corregir errores en la documentaci√≥n
- Agregar ejemplos y casos de uso
- Mejorar la claridad y estructura
- Traducir a otros idiomas

#### üîß **Contribuir C√≥digo**

- Implementar nuevas funcionalidades
- Corregir bugs existentes
- Mejorar el rendimiento
- Refactorizar c√≥digo legacy

#### üß™ **Testing**

- Escribir tests unitarios
- Implementar tests de integraci√≥n
- Mejorar la cobertura de tests
- Reportar bugs encontrados en testing

### Niveles de Contribuci√≥n

#### üå± **Principiante**

- Reportar bugs
- Mejorar documentaci√≥n
- Tests simples
- Correcciones menores

#### üåø **Intermedio**

- Implementar features peque√±as
- Refactorizar c√≥digo
- Mejorar tests
- Optimizaciones menores

#### üå≥ **Avanzado**

- Features complejas
- Arquitectura del sistema
- Performance cr√≠tico
- Mentoring de otros contribuidores

## ‚öôÔ∏è Configuraci√≥n del Entorno

### Prerrequisitos

```bash
# Verificar versiones
node --version  # >= 18.0.0
pnpm --version  # >= 8.0.0
git --version   # >= 2.30.0
```

### Configuraci√≥n Inicial

```bash
# 1. Fork del repositorio
# Ve a GitHub y haz fork del repositorio

# 2. Clonar tu fork
git clone https://github.com/TU_USUARIO/follow-gym.git
cd follow-gym

# 3. Agregar el repositorio original como upstream
git remote add upstream https://github.com/ORIGINAL_OWNER/follow-gym.git

# 4. Instalar dependencias
pnpm install

# 5. Configurar variables de entorno
cp .env.example .env
# Editar .env con tus credenciales

# 6. Verificar que todo funciona
pnpm dev
```

### Configuraci√≥n de Git

```bash
# Configurar tu informaci√≥n
git config user.name "Tu Nombre"
git config user.email "tu.email@ejemplo.com"

# Configurar hooks de pre-commit (opcional)
pnpm add -D husky lint-staged
npx husky install
npx husky add .husky/pre-commit "pnpm lint-staged"
```

## üîÑ Flujo de Trabajo

### 1. **Crear una Rama**

```bash
# Actualizar tu rama principal
git checkout main
git pull upstream main

# Crear una nueva rama para tu feature
git checkout -b feature/nombre-de-tu-feature
# o
git checkout -b fix/nombre-del-bug
# o
git checkout -b docs/mejora-documentacion
```

### 2. **Desarrollar tu Cambio**

```bash
# Hacer tus cambios
# Aseg√∫rate de seguir los est√°ndares de c√≥digo

# Verificar que todo funciona
pnpm dev
pnpm test
pnpm lint

# Hacer commit de tus cambios
git add .
git commit -m "feat: agregar nueva funcionalidad X

- Descripci√≥n detallada de los cambios
- Beneficios de la implementaci√≥n
- Tests agregados
- Documentaci√≥n actualizada"
```

### 3. **Mantener tu Rama Actualizada**

```bash
# Mientras trabajas, mant√©n tu rama actualizada
git fetch upstream
git rebase upstream/main
```

### 4. **Crear Pull Request**

```bash
# Push de tu rama
git push origin feature/nombre-de-tu-feature

# Ir a GitHub y crear Pull Request
# Usar el template de PR
```

### Template de Pull Request

```markdown
## üìù Descripci√≥n

Breve descripci√≥n de los cambios realizados.

## üéØ Tipo de Cambio

- [ ] Bug fix (cambio que corrige un issue)
- [ ] Nueva feature (cambio que agrega funcionalidad)
- [ ] Breaking change (fix o feature que causa que funcionalidad existente no funcione como esperado)
- [ ] Documentaci√≥n (cambios en documentaci√≥n)

## üîó Issue Relacionado

Closes #123

## ‚úÖ Checklist

- [ ] Mi c√≥digo sigue las gu√≠as de estilo del proyecto
- [ ] He realizado self-review de mi c√≥digo
- [ ] He comentado mi c√≥digo, especialmente en √°reas dif√≠ciles de entender
- [ ] He hecho los cambios correspondientes en la documentaci√≥n
- [ ] Mis cambios no generan nuevos warnings
- [ ] He agregado tests que prueban que mi fix funciona o que mi feature funciona
- [ ] Los tests unitarios y de integraci√≥n pasan localmente con mis cambios
- [ ] He verificado que mi feature funciona en diferentes navegadores
- [ ] He verificado que mi feature funciona en dispositivos m√≥viles

## üì∏ Screenshots (si aplica)

Agregar screenshots si los cambios afectan la UI.

## üß™ Tests

- [ ] Tests unitarios agregados
- [ ] Tests de integraci√≥n agregados
- [ ] Tests E2E agregados (si aplica)

## üìö Documentaci√≥n

- [ ] README actualizado
- [ ] Documentaci√≥n de componentes actualizada
- [ ] Changelog actualizado
```

## üìè Est√°ndares de C√≥digo

### Convenciones de Nomenclatura

```typescript
// Archivos
components / ExerciseCard.tsx; // PascalCase para componentes
utils / math - utils.ts; // kebab-case para utilidades
hooks / use - exercise - data.ts; // kebab-case para hooks
constants / api.constants.ts; // camelCase.constants.ts

// Variables y funciones
const exerciseData = {}; // camelCase
const calculateVolume = () => {}; // camelCase
const EXERCISE_TYPES = []; // UPPER_SNAKE_CASE para constantes

// Interfaces y tipos
interface ExerciseCardProps {} // PascalCase + Props
type ExerciseCategory = 'strength' | 'cardio';
```

### Estructura de Componentes

```typescript
// 1. Imports
import React from 'react';
import { Button } from '@/components/button';
import { useExerciseData } from '@/hooks/use-exercise-data';

// 2. Interfaces
interface ExerciseCardProps {
  exercise: Exercise;
  onEdit?: () => void;
  onDelete?: () => void;
}

// 3. Componente principal
export const ExerciseCard: React.FC<ExerciseCardProps> = ({
  exercise,
  onEdit,
  onDelete,
}) => {
  // 4. Hooks
  const { loading, error } = useExerciseData(exercise.id);

  // 5. Handlers
  const handleEdit = useCallback(() => {
    onEdit?.();
  }, [onEdit]);

  const handleDelete = useCallback(() => {
    onDelete?.();
  }, [onDelete]);

  // 6. Render
  if (loading) return <LoadingSpinner />;
  if (error) return <ErrorMessage error={error} />;

  return (
    <Card>
      <CardHeader>
        <CardTitle>{exercise.name}</CardTitle>
      </CardHeader>
      <CardContent>
        <ExerciseStats exercise={exercise} />
      </CardContent>
      <CardActions>
        <Button onClick={handleEdit}>Edit</Button>
        <Button variant='danger' onClick={handleDelete}>
          Delete
        </Button>
      </CardActions>
    </Card>
  );
};
```

### Est√°ndares de TypeScript

```typescript
// ‚úÖ Correcto
interface User {
  id: string;
  name: string;
  email: string;
  createdAt: Date;
}

const getUser = async (id: string): Promise<User | null> => {
  // Implementation
};

// ‚ùå Incorrecto
const getUser = async (id: any): Promise<any> => {
  // Implementation
};

// ‚úÖ Correcto - Tipos espec√≠ficos
type ExerciseCategory = 'strength' | 'cardio' | 'flexibility';
type MuscleGroup = 'chest' | 'back' | 'legs' | 'arms' | 'shoulders';

// ‚ùå Incorrecto - Tipos gen√©ricos
type ExerciseCategory = string;
```

### Est√°ndares de CSS/Tailwind

```typescript
// ‚úÖ Correcto - Clases organizadas
const buttonClasses = clsx(
  'px-4 py-2 rounded-md font-medium transition-colors',
  'bg-blue-500 hover:bg-blue-600 text-white',
  'disabled:opacity-50 disabled:cursor-not-allowed',
  variant === 'danger' && 'bg-red-500 hover:bg-red-600'
);

// ‚ùå Incorrecto - Clases desordenadas
const buttonClasses =
  'px-4 py-2 rounded-md font-medium transition-colors bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50 disabled:cursor-not-allowed';
```

## üß™ Testing

### Estructura de Tests

```typescript
// src/components/__tests__/ExerciseCard.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { ExerciseCard } from '../ExerciseCard';

describe('ExerciseCard', () => {
  const mockExercise = {
    id: '1',
    name: 'Bench Press',
    category: 'strength',
    muscleGroups: ['chest', 'triceps'],
  };

  const mockProps = {
    exercise: mockExercise,
    onEdit: jest.fn(),
    onDelete: jest.fn(),
  };

  beforeEach(() => {
    jest.clearAllMocks();
  });

  it('should render exercise information correctly', () => {
    render(<ExerciseCard {...mockProps} />);

    expect(screen.getByText('Bench Press')).toBeInTheDocument();
    expect(screen.getByText('strength')).toBeInTheDocument();
  });

  it('should call onEdit when edit button is clicked', () => {
    render(<ExerciseCard {...mockProps} />);

    const editButton = screen.getByText('Edit');
    fireEvent.click(editButton);

    expect(mockProps.onEdit).toHaveBeenCalledTimes(1);
  });

  it('should call onDelete when delete button is clicked', () => {
    render(<ExerciseCard {...mockProps} />);

    const deleteButton = screen.getByText('Delete');
    fireEvent.click(deleteButton);

    expect(mockProps.onDelete).toHaveBeenCalledTimes(1);
  });

  it('should show loading state when loading is true', () => {
    render(<ExerciseCard {...mockProps} loading={true} />);

    expect(screen.getByTestId('loading-spinner')).toBeInTheDocument();
  });

  it('should show error state when error is present', () => {
    const error = new Error('Failed to load exercise');
    render(<ExerciseCard {...mockProps} error={error} />);

    expect(screen.getByText('Failed to load exercise')).toBeInTheDocument();
  });
});
```

### Tests de Integraci√≥n

```typescript
// src/hooks/__tests__/use-exercise-data.test.ts
import { renderHook, act } from '@testing-library/react';
import { useExerciseData } from '../use-exercise-data';
import { exerciseService } from '@/api/services/exercise-service';

jest.mock('@/api/services/exercise-service');

describe('useExerciseData', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  it('should fetch exercise data successfully', async () => {
    const mockExercise = { id: '1', name: 'Bench Press' };
    (exerciseService.getById as jest.Mock).mockResolvedValue(mockExercise);

    const { result } = renderHook(() => useExerciseData('1'));

    expect(result.current.loading).toBe(true);

    await act(async () => {
      await result.current.fetchExercise();
    });

    expect(result.current.exercise).toEqual(mockExercise);
    expect(result.current.loading).toBe(false);
    expect(result.current.error).toBeNull();
  });

  it('should handle errors correctly', async () => {
    const mockError = new Error('Failed to fetch');
    (exerciseService.getById as jest.Mock).mockRejectedValue(mockError);

    const { result } = renderHook(() => useExerciseData('1'));

    await act(async () => {
      await result.current.fetchExercise();
    });

    expect(result.current.error).toEqual(mockError);
    expect(result.current.loading).toBe(false);
  });
});
```

### Tests E2E

```typescript
// cypress/e2e/exercise-management.cy.ts
describe('Exercise Management', () => {
  beforeEach(() => {
    cy.visit('/exercises');
  });

  it('should create a new exercise', () => {
    cy.get('[data-testid="add-exercise-button"]').click();

    cy.get('[data-testid="exercise-name-input"]').type('Squats');
    cy.get('[data-testid="exercise-category-select"]').select('strength');
    cy.get('[data-testid="muscle-groups-multi-select"]').select([
      'legs',
      'glutes',
    ]);

    cy.get('[data-testid="save-exercise-button"]').click();

    cy.get('[data-testid="exercise-list"]').should('contain', 'Squats');
  });

  it('should edit an existing exercise', () => {
    cy.get('[data-testid="exercise-item"]').first().click();
    cy.get('[data-testid="edit-exercise-button"]').click();

    cy.get('[data-testid="exercise-name-input"]')
      .clear()
      .type('Modified Exercise');
    cy.get('[data-testid="save-exercise-button"]').click();

    cy.get('[data-testid="exercise-list"]').should(
      'contain',
      'Modified Exercise'
    );
  });

  it('should delete an exercise', () => {
    const exerciseName = 'Exercise to Delete';
    cy.get('[data-testid="exercise-item"]').contains(exerciseName).click();
    cy.get('[data-testid="delete-exercise-button"]').click();
    cy.get('[data-testid="confirm-delete-button"]').click();

    cy.get('[data-testid="exercise-list"]').should('not.contain', exerciseName);
  });
});
```

## üìö Documentaci√≥n

### Est√°ndares de Documentaci√≥n

````typescript
/**
 * Hook personalizado para manejar datos de ejercicios
 *
 * @param exerciseId - ID del ejercicio a cargar
 * @returns Objeto con estado del ejercicio, loading y error
 *
 * @example
 * ```tsx
 * const { exercise, loading, error, updateExercise } = useExerciseData('123');
 *
 * if (loading) return <LoadingSpinner />;
 * if (error) return <ErrorMessage error={error} />;
 *
 * return <ExerciseCard exercise={exercise} />;
 * ```
 */
export const useExerciseData = (exerciseId: string) => {
  // Implementation
};
````

### Documentaci√≥n de Componentes

````typescript
/**
 * Tarjeta para mostrar informaci√≥n de un ejercicio
 *
 * @component
 * @example
 * ```tsx
 * <ExerciseCard
 *   exercise={exerciseData}
 *   onEdit={() => handleEdit(exerciseData.id)}
 *   onDelete={() => handleDelete(exerciseData.id)}
 * />
 * ```
 */
interface ExerciseCardProps {
  /** Datos del ejercicio a mostrar */
  exercise: Exercise;
  /** Callback ejecutado al hacer clic en editar */
  onEdit?: () => void;
  /** Callback ejecutado al hacer clic en eliminar */
  onDelete?: () => void;
  /** Mostrar estado de carga */
  loading?: boolean;
  /** Error a mostrar */
  error?: Error | null;
}
````

## üîç Revisi√≥n de C√≥digo

### Checklist de Revisi√≥n

#### Funcionalidad

- [ ] El c√≥digo hace lo que se supone que debe hacer
- [ ] Maneja casos edge correctamente
- [ ] No introduce regresiones
- [ ] Es compatible con versiones anteriores

#### C√≥digo

- [ ] Sigue las convenciones de nomenclatura
- [ ] Est√° bien estructurado y organizado
- [ ] No tiene c√≥digo duplicado
- [ ] Es legible y mantenible
- [ ] Tiene comentarios donde es necesario

#### Testing

- [ ] Tiene tests unitarios
- [ ] Tiene tests de integraci√≥n si es necesario
- [ ] Los tests pasan
- [ ] La cobertura es adecuada

#### Performance

- [ ] No introduce problemas de performance
- [ ] Usa lazy loading cuando es apropiado
- [ ] Optimiza re-renders
- [ ] Maneja memoria correctamente

#### Seguridad

- [ ] No introduce vulnerabilidades
- [ ] Valida inputs correctamente
- [ ] Maneja errores apropiadamente
- [ ] No expone informaci√≥n sensible

#### Accesibilidad

- [ ] Es accesible para screen readers
- [ ] Tiene navegaci√≥n por teclado
- [ ] Usa colores apropiadamente
- [ ] Tiene alt text en im√°genes

### Comentarios de Revisi√≥n

```markdown
## ‚úÖ Aspectos Positivos

- Buena implementaci√≥n de la funcionalidad
- Tests bien escritos
- Documentaci√≥n clara

## üîß Sugerencias de Mejora

- Considerar usar `useMemo` para el c√°lculo costoso
- Agregar validaci√≥n para el input
- Mejorar el manejo de errores

## üêõ Problemas Encontrados

- Falta validaci√≥n en l√≠nea 45
- Test no cubre caso edge
- Variable no utilizada en l√≠nea 23

## üìù Comentarios Generales

- El c√≥digo est√° bien estructurado
- Considerar refactorizar la funci√≥n larga
- Agregar m√°s comentarios para casos complejos
```

## üêõ Reportar Bugs

### Template de Bug Report

```markdown
## üêõ Descripci√≥n del Bug

Descripci√≥n clara y concisa del bug.

## üîÑ Pasos para Reproducir

1. Ve a '...'
2. Haz clic en '...'
3. Despl√°zate hacia abajo hasta '...'
4. Ve el error

## ‚úÖ Comportamiento Esperado

Descripci√≥n clara de lo que deber√≠a pasar.

## üì∏ Screenshots

Si aplica, agrega screenshots para ayudar a explicar el problema.

## üíª Informaci√≥n del Entorno

- **Sistema Operativo**: [ej. macOS 12.0]
- **Navegador**: [ej. Chrome 96.0.4664.110]
- **Versi√≥n de Node**: [ej. 18.0.0]
- **Versi√≥n de pnpm**: [ej. 8.0.0]

## üìã Informaci√≥n Adicional

Cualquier otra informaci√≥n que pueda ser √∫til para resolver el bug.
```

## üí° Solicitar Features

### Template de Feature Request

```markdown
## üí° Descripci√≥n de la Feature

Descripci√≥n clara y concisa de la funcionalidad deseada.

## üéØ Problema que Resuelve

Explicaci√≥n de qu√© problema resuelve esta feature.

## üí≠ Soluci√≥n Propuesta

Descripci√≥n de c√≥mo te gustar√≠a que funcione la feature.

## üîÑ Alternativas Consideradas

Lista de otras soluciones que has considerado.

## üìã Informaci√≥n Adicional

Cualquier contexto adicional, screenshots, mockups, etc.
```

## üèÜ Reconocimiento

### Contribuidores Destacados

- **üå± Primeros Pasos**: Contribuidores que han hecho su primera contribuci√≥n
- **üåø Consistencia**: Contribuidores que mantienen contribuciones regulares
- **üå≥ Liderazgo**: Contribuidores que ayudan a otros y gu√≠an el proyecto

### Badges de Contribuci√≥n

```markdown
- ü•á **Gold Contributor**: 50+ contribuciones
- ü•à **Silver Contributor**: 25+ contribuciones
- ü•â **Bronze Contributor**: 10+ contribuciones
- üå± **First Time**: Primera contribuci√≥n
- üöÄ **Feature Champion**: Implement√≥ feature importante
- üêõ **Bug Hunter**: Encontr√≥ y corrigi√≥ bugs cr√≠ticos
- üìö **Documentation Hero**: Mejor√≥ significativamente la documentaci√≥n
```

## üìû Contacto

### Canales de Comunicaci√≥n

- **Issues**: Para bugs y feature requests
- **Discussions**: Para preguntas y discusiones generales
- **Pull Requests**: Para contribuciones de c√≥digo
- **Email**: Para asuntos privados o sensibles

### Horarios de Disponibilidad

- **Revisi√≥n de PRs**: 24-48 horas
- **Respuesta a Issues**: 24 horas
- **Releases**: Semanalmente
- **Sprints**: Cada 2 semanas

## üìÑ Licencia

Al contribuir a este proyecto, aceptas que tus contribuciones ser√°n licenciadas bajo la misma licencia que el proyecto (MIT License).

---

**¬°Gracias por contribuir a Follow Gym! üéâ**
